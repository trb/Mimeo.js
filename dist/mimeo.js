!function e(n,t,r){function i(a,u){if(!t[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return i(t?t:e)},f,f.exports,e,n,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,t){mimeo=e("./src/Mimeo.js")},{"./src/Mimeo.js":4}],2:[function(e,n,t){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.exports=function(e){var n=e,t=e.indexOf("["),o=e.indexOf("]");-1!=t&&-1!=o&&(e=e.substring(0,t)+e.substring(t,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=r.exec(e||""),u={},s=14;s--;)u[i[s]]=a[s]||"";return-1!=t&&-1!=o&&(u.source=n,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u}},{}],3:[function(e,n,t){(function(){"use strict";function e(e,n,t){this.path=e,this.matcher=n,this.delegate=t}function t(e){this.routes={},this.children={},this.target=e}function r(n,t,i){return function(o,a){var u=n+o;return a?void a(r(u,t,i)):new e(n+o,t,i)}}function i(e,n,t){for(var r=0,i=0,o=e.length;o>i;i++)r+=e[i].path.length;n=n.substr(r);var a={path:n,handler:t};e.push(a)}function o(e,n,t,r){var a=n.routes;for(var u in a)if(a.hasOwnProperty(u)){var s=e.slice();i(s,u,a[u]),n.children[u]?o(s,n.children[u],t,r):t.call(r,s)}}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e){this.string=e}function s(e){this.name=e}function c(e){this.name=e}function f(){}function h(e,n,t){"/"===e.charAt(0)&&(e=e.substr(1));var r=e.split("/"),i=[];t.val="";for(var o=0,a=r.length;a>o;o++){var h,d=r[o];(h=d.match(/^:([^\/]+)$/))?(i.push(new s(h[1])),n.push(h[1]),t.val+="3"):(h=d.match(/^\*([^\/]+)$/))?(i.push(new c(h[1])),t.val+="2",n.push(h[1])):""===d?(i.push(new f),t.val+="1"):(i.push(new u(d)),t.val+="4")}return t.val=+t.val,i}function d(e){this.charSpec=e,this.nextStates=[]}function l(e){return e.sort(function(e,n){return n.specificity.val-e.specificity.val})}function p(e,n){for(var t=[],r=0,i=e.length;i>r;r++){var o=e[r];t=t.concat(o.match(n))}return t}function g(e){this.queryParams=e||{}}function v(e,n,t){for(var r=e.handlers,i=e.regex,o=n.match(i),a=1,u=new g(t),s=0,c=r.length;c>s;s++){for(var f=r[s],h=f.names,d={},l=0,p=h.length;p>l;l++)d[h[l]]=o[a++];u.push({handler:f.handler,params:d,isDynamic:!!h.length})}return u}function m(e,n){return n.eachChar(function(n){e=e.put(n)}),e}function y(e){return e=e.replace(/\+/gm,"%20"),decodeURIComponent(e)}e.prototype={to:function(e,n){var t=this.delegate;if(t&&t.willAddRoute&&(e=t.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),n){if(0===n.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,n,this.delegate)}return this}},t.prototype={add:function(e,n){this.routes[e]=n},addChild:function(e,n,i,o){var a=new t(n);this.children[e]=a;var u=r(e,a,o);o&&o.contextEntered&&o.contextEntered(n,u),i(u)}};var w=function(e,n){var i=new t;e(r("",i,this.delegate)),o([],i,function(e){n?n(this,e):this.add(e)},this)},x=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],j=new RegExp("(\\"+x.join("|\\")+")","g");u.prototype={eachChar:function(e){for(var n,t=this.string,r=0,i=t.length;i>r;r++)n=t.charAt(r),e({validChars:n})},regex:function(){return this.string.replace(j,"\\$1")},generate:function(){return this.string}},s.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},c.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},f.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},d.prototype={get:function(e){for(var n=this.nextStates,t=0,r=n.length;r>t;t++){var i=n[t],o=i.charSpec.validChars===e.validChars;if(o=o&&i.charSpec.invalidChars===e.invalidChars)return i}},put:function(e){var n;return(n=this.get(e))?n:(n=new d(e),this.nextStates.push(n),e.repeat&&n.nextStates.push(n),n)},match:function(e){for(var n,t,r,i=this.nextStates,o=[],a=0,u=i.length;u>a;a++)n=i[a],t=n.charSpec,"undefined"!=typeof(r=t.validChars)?-1!==r.indexOf(e)&&o.push(n):"undefined"!=typeof(r=t.invalidChars)&&-1===r.indexOf(e)&&o.push(n);return o}};var _=Object.create||function(e){function n(){}return n.prototype=e,new n};g.prototype=_({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var $=function(){this.rootState=new d,this.names={}};$.prototype={add:function(e,n){for(var t,r=this.rootState,i="^",o={},a=[],u=[],s=!0,c=0,d=e.length;d>c;c++){var l=e[c],p=[],g=h(l.path,p,o);u=u.concat(g);for(var v=0,y=g.length;y>v;v++){var w=g[v];w instanceof f||(s=!1,r=r.put({validChars:"/"}),i+="/",r=m(r,w),i+=w.regex())}var x={handler:l.handler,names:p};a.push(x)}s&&(r=r.put({validChars:"/"}),i+="/"),r.handlers=a,r.regex=new RegExp(i+"$"),r.specificity=o,(t=n&&n.as)&&(this.names[t]={segments:u,handlers:a})},handlersFor:function(e){var n=this.names[e],t=[];if(!n)throw new Error("There is no route named "+e);for(var r=0,i=n.handlers.length;i>r;r++)t.push(n.handlers[r]);return t},hasRoute:function(e){return!!this.names[e]},generate:function(e,n){var t=this.names[e],r="";if(!t)throw new Error("There is no route named "+e);for(var i=t.segments,o=0,a=i.length;a>o;o++){var u=i[o];u instanceof f||(r+="/",r+=u.generate(n))}return"/"!==r.charAt(0)&&(r="/"+r),n&&n.queryParams&&(r+=this.generateQueryString(n.queryParams,t.handlers)),r},generateQueryString:function(e,n){var t=[],r=[];for(var i in e)e.hasOwnProperty(i)&&r.push(i);r.sort();for(var o=0,u=r.length;u>o;o++){i=r[o];var s=e[i];if(null!=s){var c=encodeURIComponent(i);if(a(s))for(var f=0,h=s.length;h>f;f++){var d=i+"[]="+encodeURIComponent(s[f]);t.push(d)}else c+="="+encodeURIComponent(s),t.push(c)}}return 0===t.length?"":"?"+t.join("&")},parseQueryString:function(e){for(var n=e.split("&"),t={},r=0;r<n.length;r++){var i,o=n[r].split("="),a=y(o[0]),u=a.length,s=!1;1===o.length?i="true":(u>2&&"[]"===a.slice(u-2)&&(s=!0,a=a.slice(0,u-2),t[a]||(t[a]=[])),i=o[1]?y(o[1]):""),s?t[a].push(i):t[a]=i}return t},recognize:function(e){var n,t,r,i,o=[this.rootState],a={},u=!1;if(i=e.indexOf("?"),-1!==i){var s=e.substr(i+1,e.length);e=e.substr(0,i),a=this.parseQueryString(s)}for(e=decodeURI(e),"/"!==e.charAt(0)&&(e="/"+e),n=e.length,n>1&&"/"===e.charAt(n-1)&&(e=e.substr(0,n-1),u=!0),t=0,r=e.length;r>t&&(o=p(o,e.charAt(t)),o.length);t++);var c=[];for(t=0,r=o.length;r>t;t++)o[t].handlers&&c.push(o[t]);o=l(c);var f=c[0];return f&&f.handlers?(u&&"(.+)$"===f.regex.source.slice(-5)&&(e+="/"),v(f,e,a)):void 0}},$.prototype.map=w,$.VERSION="0.1.9";var E=$;"function"==typeof define&&define.amd?define("route-recognizer",function(){return E}):"undefined"!=typeof n&&n.exports?n.exports=E:"undefined"!=typeof this&&(this.RouteRecognizer=E)}).call(this)},{}],4:[function(e,n,t){var r=e("./Module.js"),i=e("./dependencies/Modules.js"),o=e("./dependencies/Injectables.js"),a=e("./builtins/Register.js"),u=function(){function e(){if(!u.hasAllDependencies())throw new Error("Injectables don't exist: "+u.getMissingDependencies());u.instantiate()}function n(n){if(!n)throw new Error("Define an injectable to bootstrap!");t.instantiate(),e();var r=u.get(n);if(!Boolean(r))throw new Error('Injectable "'+n+'" to bootstrap not found');return r.apply(r,Array.prototype.slice.call(arguments,1))}var t=i(),u=o();return a(u),{module:function(e,n){return n?t.add(new r(u,e,n)):t.get(e)},bootstrap:n}};n.exports=u()},{"./Module.js":5,"./builtins/Register.js":7,"./dependencies/Injectables.js":11,"./dependencies/Modules.js":12}],5:[function(e,n,t){function r(e,n,t){function r(n,t){if(e.has(n))throw new Error('Injectable "'+n+'" already exists');var r;if(t instanceof Function)r=t,r.$inject||(r.$inject=[]);else{var o=t.slice(0,-1);r=t.slice(-1)[0],r.$inject=o}return r.$name=n,e.add(r),i}var i=this;this.$name=n,this.$inject=t,this.factory=r,this.component=r,this.value=function(e,n){return r(e,function(){return n})}}n.exports=r},{}],6:[function(e,n,t){function r(e){var n,t=!1,r=[],i=[],o=[],a={then:function(e,a,u){t&&e?e(n):r.push(e),a&&i.push(a),u&&o.push(u)}},u=function(e){r.forEach(function(n){n(e)})},s=function(e){i.forEach(function(n){n(e)})},c=function(e){o.forEach(function(n){n(e)})};return e&&e(u,s,c),{resolve:u,reject:s,notify:c,promise:a}}function i(e){return new r(e).promise}i.defer=function(){return new r},i.all=function(e){function n(){t===e.length&&(o?a.reject():a.resolve(i))}if(!e instanceof Array)throw new Error("Promises need to be passed to $q.all in an array");var t=0,i=[],o=!1,a=new r;return e.forEach(function(e,r){e.then(function(e){i[r]=e,++t,n()},function(){o=!0,++t,n()})}),a.promise},n.exports=function(){return i}},{}],7:[function(e,n,t){function r(){if("undefined"==typeof window){var e=function(){};return{onpopstate:e,onclick:e,onload:e,history:{pushState:e,replaceState:e}}}return window}var i=e("./Promise.js"),o=e("./Routing.js");n.exports=function(e){r.$name="$window",r.$inject=[],e.add(r),o.Context.$name="$context",o.Context.$inject=[],o.Routing.$name="$routing",o.Routing.$inject=["$window"],e.add(o.Context),e.add(o.Routing),i.$name="$q",i.$inject=[],e.add(i)}},{"./Promise.js":6,"./Routing.js":8}],8:[function(e,n,t){function r(){return function(){return u}}function i(e){function n(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function t(e,n){if(e[n])return e[n];if(e.getAttribute)return e.getAttribute(n);for(var t=null,r=0;r<e.attributes.length;++r)e.attributes[r].nodeName===n&&(t=e.attributes[r].nodeValue);return t}function r(n){n&&(e.history.pushState(null,"",n),s(n,!1))}function i(e){var n={};return e.split("&").map(function(e){return e.split("=").map(decodeURIComponent)}).forEach(function(e){n[e[0]]=e[1]}),n}function s(e,n){var t=a(e),o=d.recognize(t.path);if(o)for(var s=0;s<o.length;++s)u={url:t,params:o.params,query:i(t.query)},o[s].handler();else n!==!1&&r(h)}function c(n){e.history.pushState(null,"",n),s(n)}function f(n){e.history.replaceState(null,"",n),s(n)}var h,d=new o;return e.onpopstate=function(){s(e.location.href)},e.onclick=function(e){var r=e.target||e.srcElement;3===r.nodeType&&(r=r.parentNode),null!==t(r,"data-internal")&&(n(e),null!==t(r,"data-no-history")?f(t(r,"href")):c(t(r,"href")))},e.onload=function(){s(e.location.href)},{"default":function(e){h=e},set:function(n,t,r,i){d.add([{path:n,handler:function(){var n;n=r.render?r.render():r(),e.document.getElementById(t).innerHTML=n}}],{as:i})},"goto":function(e){c(e)}}}var o=e("route-recognizer"),a=e("parseuri"),u={};n.exports={Context:r,Routing:i}},{parseuri:2,"route-recognizer":3}],9:[function(e,n,t){function r(e){function n(e){if(!e)throw new Error("No entity to register was given");if(!e.$name)throw new Error('Entity "'+e.$name+'" is missing property $name');if(!e.$inject)throw new Error('Entity "'+e.$name+'" is missing property $inject');if(s[e.$name])throw new Error('Entity "'+e.$name+'" already exists');h=void 0,s[e.$name]=e,f.hasNodeValue(e.$name)||f.add(e.$name),e.$inject.forEach(function(n){f.hasNodeValue(n)||f.add(n),f.addEdge(n,e.$name)})}function t(){if(h)return h;var e=Object.keys(s).map(function(e){return s[e].$inject});return h=[].concat.apply([],e).filter(function(e){return!Boolean(s[e])})}function r(){return 0==t().length}function o(){f.getNodesTopological().forEach(function(e){var n=s[e];c[e]=n.apply(n,n.$inject.map(function(e){return c[e]}))})}function a(e){return s[e]}function u(e){return c[e]}var s={},c={},f=new i,h=void 0;return{$name:e,register:n,hasAllDependencies:r,getMissingDependencies:t,instantiate:o,getProvider:a,getInstance:u}}var i=e("./Graph.js");n.exports=function(e){return new r(e)}},{"./Graph.js":10}],10:[function(e,n,t){var r=function(e){if(!(e instanceof String||"string"==typeof e))throw new Error("Only strings are accepted as node values");this._id=Math.random().toString(36),this.value=e},i=function(e,n){this._id=Math.random().toString(36),this._from=e,this._to=n},o=function(e,n){return e._id+":"+n._id};i.prototype.getNodeIdentifier=function(){return o(this._from,this._to)};var a=function(){var e=[],n={},t={},o=[],a=[],u={},s={},c={},f=function(){e=[],n={},t={},o=[],a=[],u={},s={},c={}},h=function(r){if(t[r.value])throw new Error('Duplicate values not allowed. Node with value "'+r.value+'" already exists');e.push(r),n[r._id]=r,t[r.value]=r,o.push(r)},d=function(e){u[e.getNodeIdentifier()]||(a.push(e),u[e.getNodeIdentifier()]=e,c[e._from._id]||(c[e._from._id]=[]),c[e._from._id].push(e),s[e._to._id]||(s[e._to._id]=[]),s[e._to._id].push(e),o=o.filter(function(n){return n._id!=e._to._id}))},l=function(e){a=a.filter(function(n){return n._id!=e._id}),delete u[e.getNodeIdentifier()],c[e._from._id]=c[e._from._id].filter(function(n){return n._id!=e._id}),s[e._to._id]=s[e._to._id].filter(function(n){return n._id!=e._id})},p=function(e){return t[e]};return{add:function(e){h(new r(e))},addEdge:function(e,n){var t=p(e),r=p(n);if(!t&&!r)throw"Neither from- nor to-node exist: "+e+", "+n;if(!t)throw"From-node doesn't exist: "+e;if(!r)throw"To-node doesn't exist: "+n;d(new i(t,r))},hasNodeValue:function(e){return Boolean(p(e))},getNodesTopological:function(){for(var e=[];o.length>0;){var n=o.pop();e.push(n),(c[n._id]||[]).slice(0).forEach(function(e){l(e),(!s[e._to._id]||s[e._to._id].length<1)&&o.push(e._to)})}if(a.length>0){var t=a.map(function(e){return"("+e._from.value+","+e._to.value+")"});throw f(),new Error("Cycle detected, remaining edges: "+t)}return f(),e.map(function(e){return e.value})}}};n.exports=a},{}],11:[function(e,n,t){var r=e("./DependencyManager.js");n.exports=function(){function e(e){return u.register(e),e}function n(){if(!u.hasAllDependencies())throw new Error("Injectables don't exist: "+u.getMissingDependencies());u.instantiate()}function t(e){return Boolean(u.getProvider(e))}function i(e){return u.getInstance(e)}function o(){return u.hasAllDependencies()}function a(){return u.getMissingDependencies()}var u=r("injectables");return{add:e,get:i,has:t,instantiate:n,hasAllDependencies:o,getMissingDependencies:a}}},{"./DependencyManager.js":9}],12:[function(e,n,t){var r=e("./DependencyManager.js");n.exports=function(){function e(e){return i.register(e),e}function n(){if(!i.hasAllDependencies())throw new Error("Modules don't exist: "+i.getMissingDependencies())}function t(e){return i.getProvider(e)}var i=r("modules");return{add:e,get:t,instantiate:n}}},{"./DependencyManager.js":9}]},{},[1]);
//# sourceMappingURL=mimeo.js.map