!function e(n,t,r){function i(a,s){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};n[a][0].call(d.exports,function(e){var t=n[a][1][e];return i(t?t:e)},d,d.exports,e,n,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,t){mimeo=e("./src/Mimeo.js")},{"./src/Mimeo.js":2}],2:[function(e,n,t){var r=e("./Module.js"),i=e("./dependencies/Modules.js"),o=e("./dependencies/Injectables.js"),a=function(){function e(){if(!a.hasAllDependencies())throw new Error("Injectables don't exist: "+a.getMissingDependencies());a.instantiate()}function n(n){if(!n)throw new Error("Define an injectable to bootstrap!");t.instantiate(),e();var r=a.get(n);return r.apply(r,Array.prototype.slice.call(arguments,1))}var t=i(),a=o();return{module:function(e,n){return n?t.add(new r(a,e,n)):t.get(e)},bootstrap:n}};n.exports=a()},{"./Module.js":3,"./dependencies/Injectables.js":6,"./dependencies/Modules.js":7}],3:[function(e,n,t){function r(e,n,t){function r(n,t){if(e.has(n))throw new Error('Injectable "'+n+'" already exists');var r;if(t instanceof Function)r=t,r.$inject||(r.$inject=[]);else{var o=t.slice(0,-1);r=t.slice(-1)[0],r.$inject=o}return r.$name=n,e.add(r),i}var i=this;this.$name=n,this.$inject=t,this.factory=r,this.component=r,this.value=function(e,n){return r(e,function(){return n})}}n.exports=r},{}],4:[function(e,n,t){function r(e){function n(e){if(!e)throw new Error("No entity to register was given");if(!e.$name)throw new Error('Entity "'+e.$name+'" is missing property $name');if(!e.$inject)throw new Error('Entity "'+e.$name+'" is missing property $inject');if(u[e.$name])throw new Error('Entity "'+e.$name+'" already exists');f=void 0,u[e.$name]=e,d.hasNodeValue(e.$name)||d.add(e.$name),e.$inject.forEach(function(n){d.hasNodeValue(n)||d.add(n),d.addEdge(n,e.$name)})}function t(){if(f)return f;var e=Object.keys(u).map(function(e){return u[e].$inject});return f=[].concat.apply([],e).filter(function(e){return!Boolean(u[e])})}function r(){return 0==t().length}function o(){d.getNodesTopological().forEach(function(e){var n=u[e];c[e]=n.apply(n,n.$inject.map(function(e){return c[e]}))})}function a(e){return u[e]}function s(e){return c[e]}var u={},c={},d=new i,f=void 0;return{$name:e,register:n,hasAllDependencies:r,getMissingDependencies:t,instantiate:o,getProvider:a,getInstance:s}}var i=e("./Graph.js");n.exports=function(e){return new r(e)}},{"./Graph.js":5}],5:[function(e,n,t){var r=function(e){if(!(e instanceof String||"string"==typeof e))throw new Error("Only strings are accepted as node values");this._id=Math.random().toString(36),this.value=e},i=function(e,n){this._id=Math.random().toString(36),this._from=e,this._to=n},o=function(e,n){return e._id+":"+n._id};i.prototype.getNodeIdentifier=function(){return o(this._from,this._to)};var a=function(){var e=[],n={},t={},o=[],a=[],s={},u={},c={},d=function(){e=[],n={},t={},o=[],a=[],s={},u={},c={}},f=function(r){if(t[r.value])throw new Error('Duplicate values not allowed. Node with value "'+r.value+'" already exists');e.push(r),n[r._id]=r,t[r.value]=r,o.push(r)},l=function(e){s[e.getNodeIdentifier()]||(a.push(e),s[e.getNodeIdentifier()]=e,c[e._from._id]||(c[e._from._id]=[]),c[e._from._id].push(e),u[e._to._id]||(u[e._to._id]=[]),u[e._to._id].push(e),o=o.filter(function(n){return n._id!=e._to._id}))},p=function(e){a=a.filter(function(n){return n._id!=e._id}),delete s[e.getNodeIdentifier()],c[e._from._id]=c[e._from._id].filter(function(n){return n._id!=e._id}),u[e._to._id]=u[e._to._id].filter(function(n){return n._id!=e._id})},h=function(e){return t[e]};return{add:function(e){f(new r(e))},addEdge:function(e,n){var t=h(e),r=h(n);if(!t&&!r)throw"Neither from- nor to-node exist: "+e+", "+n;if(!t)throw"From-node doesn't exist: "+e;if(!r)throw"To-node doesn't exist: "+n;l(new i(t,r))},hasNodeValue:function(e){return Boolean(h(e))},getNodesTopological:function(){for(var e=[];o.length>0;){var n=o.pop();e.push(n),(c[n._id]||[]).slice(0).forEach(function(e){p(e),(!u[e._to._id]||u[e._to._id].length<1)&&o.push(e._to)})}if(a.length>0){var t=a.map(function(e){return"("+e._from.value+","+e._to.value+")"});throw d(),new Error("Cycle detected, remaining edges: "+t)}return d(),e.map(function(e){return e.value})}}};n.exports=a},{}],6:[function(e,n,t){var r=e("./DependencyManager.js");n.exports=function(){function e(e){return s.register(e),e}function n(){if(!s.hasAllDependencies())throw new Error("Injectables don't exist: "+s.getMissingDependencies());s.instantiate()}function t(e){return Boolean(s.getProvider(e))}function i(e){return s.getInstance(e)}function o(){return s.hasAllDependencies()}function a(){return s.getMissingDependencies()}var s=r("injectables");return{add:e,get:i,has:t,instantiate:n,hasAllDependencies:o,getMissingDependencies:a}}},{"./DependencyManager.js":4}],7:[function(e,n,t){var r=e("./DependencyManager.js");n.exports=function(){function e(e){return i.register(e),e}function n(){if(!i.hasAllDependencies())throw new Error("Modules don't exist: "+i.getMissingDependencies())}function t(e){return i.getProvider(e)}var i=r("modules");return{add:e,get:t,instantiate:n}}},{"./DependencyManager.js":4}]},{},[1]);
//# sourceMappingURL=mimeo.js.map