!function e(t,n,r){function i(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){mimeo=e("./src/Mimeo.js")},{"./src/Mimeo.js":4}],2:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=r.exec(e||""),u={},s=14;s--;)u[i[s]]=a[s]||"";return-1!=n&&-1!=o&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u}},{}],3:[function(e,t,n){(function(){"use strict";function e(e,t,n){this.path=e,this.matcher=t,this.delegate=n}function n(e){this.routes={},this.children={},this.target=e}function r(t,n,i){return function(o,a){var u=t+o;return a?void a(r(u,n,i)):new e(t+o,n,i)}}function i(e,t,n){for(var r=0,i=0,o=e.length;o>i;i++)r+=e[i].path.length;t=t.substr(r);var a={path:t,handler:n};e.push(a)}function o(e,t,n,r){var a=t.routes;for(var u in a)if(a.hasOwnProperty(u)){var s=e.slice();i(s,u,a[u]),t.children[u]?o(s,t.children[u],n,r):n.call(r,s)}}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e){this.string=e}function s(e){this.name=e}function c(e){this.name=e}function f(){}function h(e,t,n){"/"===e.charAt(0)&&(e=e.substr(1));var r=e.split("/"),i=[];n.val="";for(var o=0,a=r.length;a>o;o++){var h,d=r[o];(h=d.match(/^:([^\/]+)$/))?(i.push(new s(h[1])),t.push(h[1]),n.val+="3"):(h=d.match(/^\*([^\/]+)$/))?(i.push(new c(h[1])),n.val+="2",t.push(h[1])):""===d?(i.push(new f),n.val+="1"):(i.push(new u(d)),n.val+="4")}return n.val=+n.val,i}function d(e){this.charSpec=e,this.nextStates=[]}function l(e){return e.sort(function(e,t){return t.specificity.val-e.specificity.val})}function p(e,t){for(var n=[],r=0,i=e.length;i>r;r++){var o=e[r];n=n.concat(o.match(t))}return n}function g(e){this.queryParams=e||{}}function v(e,t,n){for(var r=e.handlers,i=e.regex,o=t.match(i),a=1,u=new g(n),s=0,c=r.length;c>s;s++){for(var f=r[s],h=f.names,d={},l=0,p=h.length;p>l;l++)d[h[l]]=o[a++];u.push({handler:f.handler,params:d,isDynamic:!!h.length})}return u}function m(e,t){return t.eachChar(function(t){e=e.put(t)}),e}function y(e){return e=e.replace(/\+/gm,"%20"),decodeURIComponent(e)}e.prototype={to:function(e,t){var n=this.delegate;if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},n.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,i,o){var a=new n(t);this.children[e]=a;var u=r(e,a,o);o&&o.contextEntered&&o.contextEntered(t,u),i(u)}};var w=function(e,t){var i=new n;e(r("",i,this.delegate)),o([],i,function(e){t?t(this,e):this.add(e)},this)},x=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],_=new RegExp("(\\"+x.join("|\\")+")","g");u.prototype={eachChar:function(e){for(var t,n=this.string,r=0,i=n.length;i>r;r++)t=n.charAt(r),e({validChars:t})},regex:function(){return this.string.replace(_,"\\$1")},generate:function(){return this.string}},s.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},c.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},f.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},d.prototype={get:function(e){for(var t=this.nextStates,n=0,r=t.length;r>n;n++){var i=t[n],o=i.charSpec.validChars===e.validChars;if(o=o&&i.charSpec.invalidChars===e.invalidChars)return i}},put:function(e){var t;return(t=this.get(e))?t:(t=new d(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,n,r,i=this.nextStates,o=[],a=0,u=i.length;u>a;a++)t=i[a],n=t.charSpec,"undefined"!=typeof(r=n.validChars)?-1!==r.indexOf(e)&&o.push(t):"undefined"!=typeof(r=n.invalidChars)&&-1===r.indexOf(e)&&o.push(t);return o}};var j=Object.create||function(e){function t(){}return t.prototype=e,new t};g.prototype=j({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var $=function(){this.rootState=new d,this.names={}};$.prototype={add:function(e,t){for(var n,r=this.rootState,i="^",o={},a=[],u=[],s=!0,c=0,d=e.length;d>c;c++){var l=e[c],p=[],g=h(l.path,p,o);u=u.concat(g);for(var v=0,y=g.length;y>v;v++){var w=g[v];w instanceof f||(s=!1,r=r.put({validChars:"/"}),i+="/",r=m(r,w),i+=w.regex())}var x={handler:l.handler,names:p};a.push(x)}s&&(r=r.put({validChars:"/"}),i+="/"),r.handlers=a,r.regex=new RegExp(i+"$"),r.specificity=o,(n=t&&t.as)&&(this.names[n]={segments:u,handlers:a})},handlersFor:function(e){var t=this.names[e],n=[];if(!t)throw new Error("There is no route named "+e);for(var r=0,i=t.handlers.length;i>r;r++)n.push(t.handlers[r]);return n},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var n=this.names[e],r="";if(!n)throw new Error("There is no route named "+e);for(var i=n.segments,o=0,a=i.length;a>o;o++){var u=i[o];u instanceof f||(r+="/",r+=u.generate(t))}return"/"!==r.charAt(0)&&(r="/"+r),t&&t.queryParams&&(r+=this.generateQueryString(t.queryParams,n.handlers)),r},generateQueryString:function(e,t){var n=[],r=[];for(var i in e)e.hasOwnProperty(i)&&r.push(i);r.sort();for(var o=0,u=r.length;u>o;o++){i=r[o];var s=e[i];if(null!=s){var c=encodeURIComponent(i);if(a(s))for(var f=0,h=s.length;h>f;f++){var d=i+"[]="+encodeURIComponent(s[f]);n.push(d)}else c+="="+encodeURIComponent(s),n.push(c)}}return 0===n.length?"":"?"+n.join("&")},parseQueryString:function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var i,o=t[r].split("="),a=y(o[0]),u=a.length,s=!1;1===o.length?i="true":(u>2&&"[]"===a.slice(u-2)&&(s=!0,a=a.slice(0,u-2),n[a]||(n[a]=[])),i=o[1]?y(o[1]):""),s?n[a].push(i):n[a]=i}return n},recognize:function(e){var t,n,r,i,o=[this.rootState],a={},u=!1;if(i=e.indexOf("?"),-1!==i){var s=e.substr(i+1,e.length);e=e.substr(0,i),a=this.parseQueryString(s)}for(e=decodeURI(e),"/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),u=!0),n=0,r=e.length;r>n&&(o=p(o,e.charAt(n)),o.length);n++);var c=[];for(n=0,r=o.length;r>n;n++)o[n].handlers&&c.push(o[n]);o=l(c);var f=c[0];return f&&f.handlers?(u&&"(.+)$"===f.regex.source.slice(-5)&&(e+="/"),v(f,e,a)):void 0}},$.prototype.map=w,$.VERSION="0.1.9";var E=$;"function"==typeof define&&define.amd?define("route-recognizer",function(){return E}):"undefined"!=typeof t&&t.exports?t.exports=E:"undefined"!=typeof this&&(this.RouteRecognizer=E)}).call(this)},{}],4:[function(e,t,n){var r=e("./Module.js"),i=e("./dependencies/Modules.js"),o=e("./dependencies/Injectables.js"),a=e("./builtins/Register.js"),u=function(){function e(){if(!u.hasAllDependencies())throw new Error("Injectables don't exist: "+u.getMissingDependencies());u.instantiate()}function t(t){if(!t)throw new Error("Define an injectable to bootstrap!");n.instantiate(),e();var r=u.get(t);if(!Boolean(r))throw new Error('Injectable "'+t+'" to bootstrap not found');return r.apply(r,Array.prototype.slice.call(arguments,1))}var n=i(),u=o();return a(u),{module:function(e,t){return t?n.add(new r(u,e,t)):n.get(e)},bootstrap:t}};t.exports=u()},{"./Module.js":5,"./builtins/Register.js":6,"./dependencies/Injectables.js":10,"./dependencies/Modules.js":11}],5:[function(e,t,n){function r(e,t,n){function r(t,n){if(e.has(t))throw new Error('Injectable "'+t+'" already exists');var r;if(n instanceof Function)r=n,r.$inject||(r.$inject=[]);else{var o=n.slice(0,-1);r=n.slice(-1)[0],r.$inject=o}return r.$name=t,e.add(r),i}var i=this;this.$name=t,this.$inject=n,this.factory=r,this.component=r,this.value=function(e,t){return r(e,function(){return t})}}t.exports=r},{}],6:[function(e,t,n){function r(){var e=function(){};return window||{onpopstate:e,onclick:e,onload:e,history:{pushState:e,replaceState:e}}}var i=e("./Routing.js");t.exports=function(e){r.$name="$window",r.$inject=[],e.add(r),i.Context.$name="$context",i.Context.$inject=[],i.Routing.$name="$routing",i.Routing.$inject=["$window"],e.add(i.Context),e.add(i.Routing)}},{"./Routing.js":7}],7:[function(e,t,n){function r(){return function(){return u}}function i(e){function t(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function n(e,t){if(e[t])return e[t];if(e.getAttribute)return e.getAttribute(t);for(var n=null,r=0;r<e.attributes.length;++r)e.attributes[r].nodeName===t&&(n=e.attributes[r].nodeValue);return n}function r(t){t&&(e.history.pushState(null,"",t),s(t,!1))}function i(e){var t={};return e.split("&").map(function(e){return e.split("=").map(decodeURIComponent)}).forEach(function(e){t[e[0]]=e[1]}),t}function s(e,t){var n=a(e),o=d.recognize(n.path);if(o)for(var s=0;s<o.length;++s)u={url:n,params:o.params,query:i(n.query)},o[s].handler();else t!==!1&&r(h)}function c(t){e.history.pushState(null,"",t),s(t)}function f(t){e.history.replaceState(null,"",t),s(t)}var h,d=new o,l={};return e.onpopstate=function(){s(e.location.href)},e.onclick=function(e){var r=e.target||e.srcElement;3===r.nodeType&&(r=r.parentNode),null!==n(r,"data-internal")&&(t(e),null!==n(r,"data-no-history")?f(n(r,"href")):c(n(r,"href")))},e.onload=function(){s(e.location.href)},{"default":function(e){h=e},set:function(t,n,r,i){d.add([{path:t,handler:function(){var t;t=r.render?r.render():r(),e.document.getElementById(n).innerHTML=t}}],{as:i}),l[t]={view:window.document.getElementById(n),renderer:r}},"goto":function(e){c(e)}}}var o=e("route-recognizer"),a=e("parseuri"),u={};t.exports={Context:r,Routing:i}},{parseuri:2,"route-recognizer":3}],8:[function(e,t,n){function r(e){function t(e){if(!e)throw new Error("No entity to register was given");if(!e.$name)throw new Error('Entity "'+e.$name+'" is missing property $name');if(!e.$inject)throw new Error('Entity "'+e.$name+'" is missing property $inject');if(s[e.$name])throw new Error('Entity "'+e.$name+'" already exists');h=void 0,s[e.$name]=e,f.hasNodeValue(e.$name)||f.add(e.$name),e.$inject.forEach(function(t){f.hasNodeValue(t)||f.add(t),f.addEdge(t,e.$name)})}function n(){if(h)return h;var e=Object.keys(s).map(function(e){return s[e].$inject});return h=[].concat.apply([],e).filter(function(e){return!Boolean(s[e])})}function r(){return 0==n().length}function o(){f.getNodesTopological().forEach(function(e){var t=s[e];c[e]=t.apply(t,t.$inject.map(function(e){return c[e]}))})}function a(e){return s[e]}function u(e){return c[e]}var s={},c={},f=new i,h=void 0;return{$name:e,register:t,hasAllDependencies:r,getMissingDependencies:n,instantiate:o,getProvider:a,getInstance:u}}var i=e("./Graph.js");t.exports=function(e){return new r(e)}},{"./Graph.js":9}],9:[function(e,t,n){var r=function(e){if(!(e instanceof String||"string"==typeof e))throw new Error("Only strings are accepted as node values");this._id=Math.random().toString(36),this.value=e},i=function(e,t){this._id=Math.random().toString(36),this._from=e,this._to=t},o=function(e,t){return e._id+":"+t._id};i.prototype.getNodeIdentifier=function(){return o(this._from,this._to)};var a=function(){var e=[],t={},n={},o=[],a=[],u={},s={},c={},f=function(){e=[],t={},n={},o=[],a=[],u={},s={},c={}},h=function(r){if(n[r.value])throw new Error('Duplicate values not allowed. Node with value "'+r.value+'" already exists');e.push(r),t[r._id]=r,n[r.value]=r,o.push(r)},d=function(e){u[e.getNodeIdentifier()]||(a.push(e),u[e.getNodeIdentifier()]=e,c[e._from._id]||(c[e._from._id]=[]),c[e._from._id].push(e),s[e._to._id]||(s[e._to._id]=[]),s[e._to._id].push(e),o=o.filter(function(t){return t._id!=e._to._id}))},l=function(e){a=a.filter(function(t){return t._id!=e._id}),delete u[e.getNodeIdentifier()],c[e._from._id]=c[e._from._id].filter(function(t){return t._id!=e._id}),s[e._to._id]=s[e._to._id].filter(function(t){return t._id!=e._id})},p=function(e){return n[e]};return{add:function(e){h(new r(e))},addEdge:function(e,t){var n=p(e),r=p(t);if(!n&&!r)throw"Neither from- nor to-node exist: "+e+", "+t;if(!n)throw"From-node doesn't exist: "+e;if(!r)throw"To-node doesn't exist: "+t;d(new i(n,r))},hasNodeValue:function(e){return Boolean(p(e))},getNodesTopological:function(){for(var e=[];o.length>0;){var t=o.pop();e.push(t),(c[t._id]||[]).slice(0).forEach(function(e){l(e),(!s[e._to._id]||s[e._to._id].length<1)&&o.push(e._to)})}if(a.length>0){var n=a.map(function(e){return"("+e._from.value+","+e._to.value+")"});throw f(),new Error("Cycle detected, remaining edges: "+n)}return f(),e.map(function(e){return e.value})}}};t.exports=a},{}],10:[function(e,t,n){var r=e("./DependencyManager.js");t.exports=function(){function e(e){return u.register(e),e}function t(){if(!u.hasAllDependencies())throw new Error("Injectables don't exist: "+u.getMissingDependencies());u.instantiate()}function n(e){return Boolean(u.getProvider(e))}function i(e){return u.getInstance(e)}function o(){return u.hasAllDependencies()}function a(){return u.getMissingDependencies()}var u=r("injectables");return{add:e,get:i,has:n,instantiate:t,hasAllDependencies:o,getMissingDependencies:a}}},{"./DependencyManager.js":8}],11:[function(e,t,n){var r=e("./DependencyManager.js");t.exports=function(){function e(e){return i.register(e),e}function t(){if(!i.hasAllDependencies())throw new Error("Modules don't exist: "+i.getMissingDependencies())}function n(e){return i.getProvider(e)}var i=r("modules");return{add:e,get:n,instantiate:t}}},{"./DependencyManager.js":8}]},{},[1]);
//# sourceMappingURL=mimeo.js.map